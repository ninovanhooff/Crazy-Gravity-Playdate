---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by ninovanhooff.
--- DateTime: 25/08/2022 22:40
---

import "CoreLibs/object"
import "../libs/master-player/MasterPlayer.lua"

class("MusicManager").extends()

function MusicManager:init()
    MusicManager.super.init()
end

if not musicManager then
    musicManager = MusicManager()
end

function MusicManager:play(track)
    if self.player then
        self.player:stop()
        self.player = nil
    end

    if track == "MIDI2" then
        self.player = MasterPlayer("music/Portal - Still Alive.mid")
    elseif track == "MIDI24" then
        self.player = MasterPlayer("music/E1M8.mid")
    elseif track == "MIDI7" then
        self.player = MasterPlayer("music/E1M9.mid")
    elseif track == "MP3" then
        self.player = playdate.sound.fileplayer.new("music/realmaybe_countdown_joint_64.mp3")
    elseif track == "FADPCM" then
        self.player, err = playdate.sound.fileplayer.new("music/scifi_adpcm")
    elseif track == "SADPCM" then
        self.player, err = playdate.sound.sampleplayer.new("music/realmaybe_adpcm")
    end

    if self.player then
        self.player:play()
    end
end
