---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by ninovanhooff.
--- DateTime: 25/08/2022 22:40
---

import "CoreLibs/object"
import "../libs/master-player/MasterPlayer.lua"

class("MusicManager").extends()

function MusicManager:init()
    MusicManager.super.init()
    self.volume = 1.0
end

if not musicManager then
    musicManager = MusicManager()
end

function MusicManager:play(track)
    self:stop()

    if track == "MIDI2" then
        self.player = MasterPlayer("music/skrillex.mid")
    elseif track == "MIDI24" then
        self.player = MasterPlayer("music/E1M8.mid")
    elseif track == "MIDI7" then
        self.player = MasterPlayer("music/E1M9.mid")
    end

    if self.player then
        self.player:setVolume(self.volume)
        self.player:play()
    end
end

function MusicManager:stop()
    if self.player then
        self.player:stop()
        self.player = nil
    end
end

-- range 0.0 - 1.0
function MusicManager:setVolume(vol)
    self.volume = vol
    if self.player then
        self.player:setVolume(vol)
    end
end
